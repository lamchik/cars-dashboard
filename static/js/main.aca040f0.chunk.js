(this["webpackJsonpcars-dashboars"]=this["webpackJsonpcars-dashboars"]||[]).push([[0],{21:function(e,t,c){},22:function(e,t,c){},24:function(e,t,c){},25:function(e,t,c){},45:function(e,t,c){},46:function(e,t,c){},47:function(e,t,c){},48:function(e,t,c){},49:function(e,t,c){},50:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){"use strict";c.r(t);var r=c(1),n=c.n(r),a=c(15),s=c.n(a),i=(c(21),c(22),c(0)),o=function(){return Object(i.jsx)("header",{className:"header",children:"Header"})},u=(c(24),function(){return Object(i.jsx)("footer",{className:"footer",children:"Footer"})}),l=(c(25),function(){return Object(i.jsx)("aside",{className:"sidebar",children:Object(i.jsx)("p",{children:"Sidebar"})})}),j=c(4),b=c.n(j),f=c(5),d=c(3),O=c(16),h=c.n(O),x=function(){var e=Object(f.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("https://city-mobil.ru/api/cars");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=(c(45),function(e){var t=e.onSubmit,c=Object(r.useState)(""),n=Object(d.a)(c,2),a=n[0],s=n[1];return Object(i.jsx)("div",{children:Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(a)},className:"search-form",children:[Object(i.jsx)("input",{onChange:function(e){s(e.target.value)},placeholder:"\u041f\u043e\u0438\u0441\u043a",className:"search-form__input",type:"text"}),Object(i.jsx)("button",{className:"search-form__button",type:"submit",children:"\u041d\u0430\u0439\u0442\u0438"})]})})}),p=(c(46),function(e){return"".concat(e.mark," ").concat(e.model)}),v=function(e){var t=e.cars,c=e.tariffs,n=e.sortOrderDesc,a=e.changeSortOrder,s=e.searchQuery,o=e.chooseCar,u=Object(r.useCallback)((function(e){var t=e;return s&&(t=e.filter((function(e){return p(e).toLowerCase().includes(s.toLowerCase())}))),t.sort((function(e,t){return p(e)>p(t)?n:-1*n}))}),[n,s]);return Object(i.jsxs)("table",{className:"table",children:[Object(i.jsx)("thead",{className:"table__head",children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{onClick:a,className:"table__cell table__cell_sortable ".concat(-1===n?"table__cell_sortable_desc":"table__cell_sortable_asc"),children:"\u041c\u0430\u0440\u043a\u0430 \u0438 \u043c\u043e\u0434\u0435\u043b\u044c"}),c.map((function(e){return Object(i.jsx)("td",{className:"table__cell",children:e},e)}))]})}),Object(i.jsx)("tbody",{children:u(t).map((function(e){return Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{className:"table__cell",children:p(e)},e),c.map((function(t){return Object(i.jsx)("td",{className:"table__cell ".concat(e.tariffs[t]&&"table__cell_clickable"),onClick:function(){return function(e,t){o(e,t)}(e,t)},children:e.tariffs[t]?e.tariffs[t].year:"-"},t)}))]},p(e))}))})]})},_=(c(47),c(48),function(e){var t=e.text;return Object(i.jsx)("div",{className:"result",children:t})}),N=(c(49),function(){return Object(i.jsx)("div",{className:"preloader"})}),S=(c(50),function(e){var t=e.error;return Object(i.jsx)("p",{className:"error",children:t.toString()})}),w=(c(51),function(){var e=Object(r.useState)(void 0),t=Object(d.a)(e,2),c=t[0],n=t[1],a=Object(r.useState)(1),s=Object(d.a)(a,2),o=s[0],u=s[1],l=Object(r.useState)(""),j=Object(d.a)(l,2),O=j[0],h=j[1],p=Object(r.useState)([]),w=Object(d.a)(p,2),y=w[0],k=w[1],g=Object(r.useState)([]),C=Object(d.a)(g,2),D=C[0],E=C[1],I=Object(r.useState)(1),J=Object(d.a)(I,2),L=J[0],Q=J[1],B=Object(r.useState)(void 0),F=Object(d.a)(B,2),H=F[0],M=F[1];Object(r.useEffect)((function(){function e(){return(e=Object(f.a)(b.a.mark((function e(){var t,c,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:t=e.sent,c=t.cars,r=t.tariffs_list,k(c),E(r),u(3);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}u(2),function(){return e.apply(this,arguments)}().catch((function(e){u(4),h(e)}))}),[]);var q=function(){Q(-1===L?1:-1)},z=function(e,t){void 0!==e.tariffs[t]&&M(function(e,t){return"\u0412\u044b\u0431\u0440\u0430\u043d \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044c ".concat(e.mark," ").concat(e.model," ").concat(e.tariffs[t].year," \u0433\u043e\u0434\u0430 \u0432\u044b\u043f\u0443\u0441\u043a\u0430")}(e,t))};return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:"content-wrapper",children:Object(i.jsx)(m,{onSubmit:function(e){n(e)}})}),Object(i.jsx)("div",{className:"content-wrapper",children:1===o||2===o?Object(i.jsx)("div",{className:"preloader-wrapper",children:Object(i.jsx)(N,{})}):3===o?Object(i.jsx)(v,{cars:y,tariffs:D,sortOrderDesc:L,changeSortOrder:q,searchQuery:c,chooseCar:z}):4===o?Object(i.jsx)(S,{error:O}):void console.error("Illegal place")}),H&&Object(i.jsx)(_,{text:H})]})});c(52);var y=function(){return Object(i.jsx)("div",{children:Object(i.jsxs)("div",{className:"wrapper",children:[Object(i.jsx)(o,{}),Object(i.jsxs)("main",{className:"main",children:[Object(i.jsx)(l,{}),Object(i.jsx)("div",{className:"pane",children:Object(i.jsx)(w,{})})]}),Object(i.jsx)(u,{})]})})};s.a.render(Object(i.jsx)(n.a.StrictMode,{children:Object(i.jsx)(y,{})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.aca040f0.chunk.js.map